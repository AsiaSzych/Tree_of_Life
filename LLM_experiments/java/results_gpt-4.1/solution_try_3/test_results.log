============================= test session starts ==============================
platform linux -- Python 3.11.11, pytest-8.3.5, pluggy-1.6.0
rootdir: /home/joanna/Documents/Master_IU/Thesis/Coding task/Tree_of_Life/tests
plugins: anyio-4.9.0, langsmith-0.3.44
collected 7 items

all_tests.py ....FF.                                                     [100%]

=================================== FAILURES ===================================
_______________________ test_compare_trees_with_distance _______________________

    def test_compare_trees_with_distance():
        file_name = f"tree_blosum{BLOSUM}_newick_with_distance.nw"
        expected_file = os.path.join(expected_folder, file_name)
        actual_file = os.path.join(actual_folder, file_name)
>       assert compare_branch_lengths(expected_file_path=expected_file, actual_file_path=actual_file) == []
E       assert [{'leaves': {...g_node'}, ...] == []
E         
E         Left contains 70 more items, first extra item: {'leaves': {'Common clothes moth', 'Monarch butterfly'}, 'message': "No matching node in t2 for node with leaves {'Common clothes moth', 'Monarch butterfly'}", 'type': 'missing_node'}
E         Use -v to get more diff

all_tests.py:39: AssertionError
____________________________ test_compare_clusters _____________________________

    def test_compare_clusters():
        file_name = f"clusters_for_blosum{BLOSUM}.json"
        expected_file = os.path.join(expected_folder, file_name)
        actual_file = os.path.join(actual_folder, file_name)
        expected_dict = read_file(expected_file)
        actual_dict = read_file(actual_file)
>       assert compare_clusters(expected=expected_dict, actual=actual_dict)=={}
E       AssertionError: assert {'1100': {'mi...obin', ...]]}} == {}
E         
E         Left contains 3 more items:
E         {'1100': {'missing_clusters': [['African bush elephant',
E                                         'Alpine newt',
E                                         'American alligator',
E                                         'American beaver',
E                                         'American black bear',...
E         
E         ...Full output truncated (8474 lines hidden), use '-vv' to show

all_tests.py:47: AssertionError
=============================== warnings summary ===============================
../../../../../../.pyenv/versions/3.11.11/envs/tree_of_life_base/lib/python3.11/site-packages/ete3/webplugin/webapp.py:44
  /home/joanna/.pyenv/versions/3.11.11/envs/tree_of_life_base/lib/python3.11/site-packages/ete3/webplugin/webapp.py:44: DeprecationWarning: 'cgi' is deprecated and slated for removal in Python 3.13
    import cgi

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED all_tests.py::test_compare_trees_with_distance - assert [{'leaves': {....
FAILED all_tests.py::test_compare_clusters - AssertionError: assert {'1100': ...
==================== 2 failed, 5 passed, 1 warning in 2.64s ====================
