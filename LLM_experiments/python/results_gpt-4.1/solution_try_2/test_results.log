============================= test session starts ==============================
platform linux -- Python 3.11.11, pytest-8.3.5, pluggy-1.6.0
rootdir: /home/joanna/Documents/Master_IU/Thesis/Coding task/Tree_of_Life/tests
plugins: anyio-4.9.0, langsmith-0.3.44
collected 7 items

all_tests.py F..FF..                                                     [100%]

=================================== FAILURES ===================================
_____________________ test_compare_needleman_wunsch_score ______________________

    def test_compare_needleman_wunsch_score():
        file_name = f"organisms_scores_blosum{BLOSUM}.json"
        expected_file = os.path.join(expected_folder, file_name)
        actual_file = os.path.join(actual_folder, file_name)
        expected_dict = read_file(expected_file)
        actual_dict = read_file(actual_file)
>       assert compare_dicts(expected=expected_dict, actual=actual_dict)=={}
E       AssertionError: assert {'African bus...issing'}, ...} == {}
E         
E         Left contains 71 more items:
E         {'African bush elephant_African bush elephant': {'actual': 1431,
E                                                          'expected': 'missing'},
E          'Alpine newt_Alpine newt': {'actual': 1431, 'expected': 'missing'},
E          'American alligator_American alligator': {'actual': 1433,
E                                                    'expected': 'missing'},...
E         
E         ...Full output truncated (76 lines hidden), use '-vv' to show

all_tests.py:17: AssertionError
________________________ test_compare_trees_only_nodes _________________________

    def test_compare_trees_only_nodes():
        file_name = f"tree_blosum{BLOSUM}_newick.nw"
        expected_file = os.path.join(expected_folder, file_name)
        actual_file = os.path.join(actual_folder, file_name)
>       assert compare_trees(expected_file_path=expected_file, actual_file_path=actual_file)
E       AssertionError: assert False
E        +  where False = compare_trees(expected_file_path='../reference_implementation/tree_blosum62_newick.nw', actual_file_path='../LLM_experiments/python/results_gpt-4.1/solution_try_2/tree_blosum62_newick.nw')

all_tests.py:33: AssertionError
----------------------------- Captured stdout call -----------------------------
RF distance is 2 over a total of 138
Partitions in tree2 that were not found in tree1: {('Asian black bear', 'Polar bear')}
Partitions in tree1 that were not found in tree2: {('American black bear', 'Polar bear')}
_______________________ test_compare_trees_with_distance _______________________

    def test_compare_trees_with_distance():
        file_name = f"tree_blosum{BLOSUM}_newick_with_distance.nw"
        expected_file = os.path.join(expected_folder, file_name)
        actual_file = os.path.join(actual_folder, file_name)
>       assert compare_branch_lengths(expected_file_path=expected_file, actual_file_path=actual_file) == []
E       assert [{'dist1': 9....0', ...}, ...] == []
E         
E         Left contains 69 more items, first extra item: {'dist1': 9.0, 'dist2': -9.0, 'leaves': {'Common clothes moth', 'Monarch butterfly'}, 'message': "Branch length mismatch for node with leaves {'Monarch butterfly', 'Common clothes moth'}: 9.0 vs -9.0", ...}
E         Use -v to get more diff

all_tests.py:39: AssertionError
=============================== warnings summary ===============================
../../../../../../.pyenv/versions/3.11.11/envs/tree_of_life_base/lib/python3.11/site-packages/ete3/webplugin/webapp.py:44
  /home/joanna/.pyenv/versions/3.11.11/envs/tree_of_life_base/lib/python3.11/site-packages/ete3/webplugin/webapp.py:44: DeprecationWarning: 'cgi' is deprecated and slated for removal in Python 3.13
    import cgi

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED all_tests.py::test_compare_needleman_wunsch_score - AssertionError: as...
FAILED all_tests.py::test_compare_trees_only_nodes - AssertionError: assert F...
FAILED all_tests.py::test_compare_trees_with_distance - assert [{'dist1': 9.....
==================== 3 failed, 4 passed, 1 warning in 4.17s ====================
